{% extends '_base.html' %}
{% block subtitle %}基本资料{% endblock %}
{% block page_content %}
  <div class="row">
    {% set sider_active = 'profile' %}
    {% include 'account/_sider.html' %}
    <div class="col-md-9 col-sm-9">
      <div class="row">
        <div class="col-md-12">
        <ol class="breadcrumb">
          <li><a>用户中心</a></li>
          <li class="active">基本信息</li>
        </ol>
        <hr>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          {% include '_flash.html' %}
          <form class="form-horizontal" method="post" action="{{ url_for('account.edit_profile', user_id=current_user.id) }}" id="edit-profile-form" enctype="multipart/form-data">
            <div class="form-group{% if form.username.errors %} has-error{% endif %}">
              {{ form.username.label(class_='col-sm-2 control-label') }}
              <div class="col-sm-10">
                {{ form.username(class_='form-control') }}
              </div>
              <div class="col-md-offset-2 col-md-10">
                <p class="help-block">{{ ', '.join(form.username.errors) }}</p>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">手机号</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ user.cellphone }}&emsp;{% if not current_user.status.cellphone_confirmed %}<a><small>验证</small></a>{% endif %}</p>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">电子邮箱</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ user.email }}&emsp;{% if not current_user.status.email_confirmed %}<a><small>验证</small></a>{% endif %}</p>
              </div>
            </div>
            <div class="form-group{% if form.avatar.errors %} has-error{% endif %}">
              {{ form.avatar.label(class_='col-sm-2 control-label') }}
              <div class="col-sm-10">
                {{ form.avatar(class_='form-control') }}
                {# <p style="color: #f00;"><small>注：上传图片前请保证图片的宽高比为 4:3 （例如：320 * 240）。</small></p> #}
              </div>
              <div class="col-md-offset-2 col-md-10">
                <p class="help-block">{{ ', '.join(form.avatar.errors) }}</p>
              </div>
            </div>
            {{ form.submit(class_='btn btn-success pull-left') }}
            {{ form.hidden_tag() }}
            <a href="" class="btn btn-default pull-right">取消</a>
          </form>
        </div>
        <div class="col-md-4">
          <img class="img-responsive" alt="{{ current_user.username }}" src="{{ current_user.avatar_url }}">
        </div>
      </div>
    </div>
  </div>
{% endblock %}
{% block page_scripts %}
<script>
    $(document).ready(function () {

    });
</script>
{% endblock %}
